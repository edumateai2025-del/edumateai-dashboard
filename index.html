<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EduMateAI Dashboard</title>
<style>
  body { margin:0; padding:0; font-family:Arial,sans-serif; background:#f3f6fa; }
  h2 { text-align:center; margin-top:20px; }/* GRID */ .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:25px; padding:20px; max-width:900px; margin:auto; } .card { background:white; border-radius:16px; padding:15px; box-shadow:0 6px 18px rgba(0,0,0,0.12); text-align:center; cursor:pointer; transition:0.25s; position:relative; overflow:hidden; } .card:hover { transform:translateY(-5px) scale(1.03); box-shadow:0 10px 25px rgba(0,0,0,0.15); }

/* Floating animation */ .card img { width:100%; border-radius:12px; height:130px; object-fit:cover; animation: float 3s ease-in-out infinite; } @keyframes float { 0% { transform:translateY(0px); } 50% { transform:translateY(-6px); } 100% { transform:translateY(0px); } }

.card-title { margin-top:10px; font-size:17px; font-weight:bold; } .card-desc { margin-top:5px; font-size:14px; opacity:0.7; }

/* LOADER OVERLAY */ #loaderOverlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.7); backdrop-filter:blur(3px); z-index:9999; justify-content:center; align-items:center; flex-direction:column; } #loaderMessage { color:white; font-size:18px; margin-top:10px; font-weight:600; }

/* News Section */ .news-section{margin-top:40px; max-width:800px; margin-left:auto;margin-right:auto;} .news-item{background:white;padding:12px;margin-bottom:12px;border-radius:8px;box-shadow:0 3px 10px rgba(0,0,0,0.1);cursor:pointer;transition:0.2s;} .news-item:hover{background:#eef4ff; transform:scale(1.01); } .title{font-size:16px;font-weight:bold;} </style>

</head>
<body><h2>EduMateAI Dashboard</h2><div class="grid">
  <!-- Smart Tutor -->
  <div class="card" onclick="startLoader('https://edumateai-smarttutor01.vercel.app/')">
    <img src="https://i.postimg.cc/qq5CRVDM/file-00000000197871f494a6abf3eb579e17.png">
    <div class="card-title">Smart Tutor</div>
    <div class="card-desc">Explain topics, solve problems & study faster.</div>
  </div>  <!-- Quiz Generator -->  <div class="card" onclick="startLoader('https://quiz-generator-pink.vercel.app/')">
    <img src="https://i.ibb.co/1tDvHSsX/file-000000006c6871f4a2d165b66d383516.png">
    <div class="card-title">Quiz Generator</div>
    <div class="card-desc">Instant quizzes from any topic—test yourself.</div>
  </div>
</div><!-- News Section --><div class="news-section">
  <h2>Latest News</h2>
  <ul id="newsList"><p>Loading news...</p></ul>
</div><!-- LOADER --><div id="loaderOverlay">
  <canvas id="loaderCanvas" width="250" height="200"></canvas>
  <p id="loaderMessage">Please wait...</p>
</div><script>
function startLoader(url){
  const overlay=document.getElementById('loaderOverlay');
  overlay.style.display='flex';

  const canvas=document.getElementById('loaderCanvas');
  const ctx=canvas.getContext('2d');
  const width=canvas.width;
  const height=canvas.height;

  let red={x:90,y:height/2,vx:3.8,color:'red'};
  let blue={x:160,y:height/2,vx:-3.8,color:'blue'};
  const radius=15;

  function drawBall(ball){
    ctx.beginPath();
    ctx.arc(ball.x,ball.y,radius,0,Math.PI*2);
    ctx.shadowBlur=15;
    ctx.shadowColor=ball.color;
    ctx.fillStyle=ball.color;
    ctx.fill();
    ctx.shadowBlur=0;
  }

  function draw(){
    ctx.clearRect(0,0,width,height);
    const dx=Math.abs(red.x-blue.x);
    if(dx<radius+2){
      ctx.beginPath();
      ctx.arc((red.x+blue.x)/2,height/2,radius+6,0,Math.PI*2);
      ctx.shadowColor='purple';
      ctx.shadowBlur=25;
      ctx.fillStyle='purple';
      ctx.fill();
      ctx.shadowBlur=0;
    }else{
      drawBall(red);
      drawBall(blue);
    }
    red.x+=red.vx;
    blue.x+=blue.vx;
    if(red.x-radius<=0||red.x+radius>=width) red.vx*=-1;
    if(blue.x-radius<=0||blue.x+radius>=width) blue.vx*=-1;
    requestAnimationFrame(draw);
  }
  draw();

  const slowTimer=setTimeout(()=>{ document.getElementById("loaderMessage").textContent="⚠️ Weak internet detected..."; },3000);

  setTimeout(()=>{
    clearTimeout(slowTimer);
    window.location.href=url;
  },1500);
}

async function loadNews(){
  const container=document.getElementById("newsList");
  try{
    const res=await fetch("/api/getnews");
    const articles=await res.json();
    container.innerHTML="";
    articles.forEach(item=>{
      const li=document.createElement("li");
      li.className="news-item";
      li.innerHTML=`<div class="title">${item.title}</div>`;
      li.onclick=()=>window.open(item.url,"_blank");
      container.appendChild(li);
    });
  }catch(err){
    container.innerHTML="<p>Failed to load news.</p>";
  }
}
loadNews();
</script></body>
  </html>
